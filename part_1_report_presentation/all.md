Executive Summary

The world is facing a crisis: obesity rates are skyrocketing, more people are dying of preventable "lifestyle diseases" than ever before, and the next generation may well be the first in the past two centuries with a lower life expectancy than its parents (http://unisalzburg.at/fileadmin/multimedia/Universitaet%2055-PLUS/documents/life_expectancy_Olshanksy_2005.pdf). Through careful consideration, we have devised a plan to combat this, through the founding of an innovative health and fitness centred online community.

This community will revolutionise health management by integrating an online diet and fitness tracking system with a Stack Overflow style Q&A forum. Users will be able to upvote the answers most relevant to them, facilitating the accumulation of a wealth of nutrition and exercise knowledge. This community store of knowledge could prove particularly useful to disadvantaged and marginalised communities, allowing them to share in the health-minded community wisdom that is unavailable in their local neighbourhoods.

To further enhance the development of this online community, the site will allow tagging of comments and let users dynamically create filters to customise their experience, ensuring them easy access to the content most relevant to their individual needs. Our revolutionary comment system will also go above and beyond the Stack Overflow model, providing a simple means for users to freely and conveniently discuss, browse and reply to posts which explore issues tangent to the main topic of the thread without derailing or distracting from the topic's Q&A.

A forum should be a place for people to freely express and exchange their ideas, knowledge and experience. Many popular forums unfortunately fail at this, such as Stack Overflow, which closes threads not directly related to the forum topic even when user votes suggest that the thread is relevant to many. This authoritarianism promotes feelings of resentment and isolation in users, underlying the allegedly democratic premise of the voting system. Our revolutionary system transcends this issue entirely, with users having full control over the comments they see via the tag filtering system, allowing different threads of meaning to coexist harmoniously. Health is a word with a rich tapestry of meanings across different groups and cultures, and we will not limit users' ability to explore and discuss the topic in whatever sense is most meaningful to them.

Aside from the forum, our site will also provide an "online health manager". Users will be able to input their health and exercise data, at whatever degree of granularity they're most comfortable with, and the system will store and analysis this data, providing suggestions based on the information they've provided. Suggestions and statistics will be presented in a visual form (who wants to read boring spreadsheets?), but JSON APIs will also be provided so that technically-minded users can explore the data at the level of detail they desire.

Driven by modern HTML technology, our site will allow mobile users to directly scan food items into our system through their barcodes. This will allow users not only to track their dietary history but also receive real-time recommendations on how well particular products suit their current diet, making sticking to a healthy diet a breeze.

With growing health-awareness amongst the population, a site like ours is desperately needed, to not only consolidate health knowledge but also develop a lasting, health-minded online community accessible to anyone no matter their background. The growth of wearables like Fitbit, Jawbone and Apple Watch is opening up incredibly opportunities in automated health management, and our website will be the knot that ties community and technology together, bridging the knowledge gap and empowering users to take their health into their own hands. Together with our users, we aim to halt the progress of preventable lifestyle illnesses dead in its tracks.


Situational assessment and problem statement

Preventable diet and exercise-related illnesses are exacting a greater toll on humanity than ever before, with preventable illnesses like obesity, type 2 diabetes, and heart disease running rife. In America, for instance, it has been predicted that such afflictions will actualy make the next generation die at a younger age than its parents!<http://unisalzburg.at/fileadmin/multimedia/Universitaet%2055-PLUS/documents/life_expectancy_Olshanksy_2005.pdf> 

Health and fitness is hence a topic of significant and growing concern to almost everyone, as evidenced by the flood of websites that present themselves when a user searches for a health-related topic. Obesity however is still on the rise, which invites the question: are these website actually particularly effective at improving the health and fitness outcomes of the general population, people simply wishing to maintain their weight and fitness at a healthy level without committing their lives to fitness?

Currently, websites that focus on health-related topics generally fall into one of three categories. Firstly, there are websites dedicated to serious fitness, such as <http://www.muscleandfitness.com/>. These websites are not suitable for the population that simply wishes to remain generally healthy through proper diet and moderate levels of exercise, as they focus on achieving extremely high degrees of fitness that are not needed or desired by the average person. Secondly, there are sites that provide information about nutrition or general health/fitness, like <http://www.healthywomen.org/>, and thirdly there are websites that provide forums for health discussion, such as <https://area51.stackexchange.com/proposals/66048/health>, which is currently under development, and <http://fitness.stackexchange.com/>. These sites are however limited in their scope, failing to provide users with interactive services for assisting them with their daily health decisions, and hence not engaging users sufficiently to bring about effective health improvements. There is hence need for a dynamic, interactive online community that harnesses the power of technology to drastically simplify diet and fitness management.

The core problem is actually not unique to health-related websites. Generally, websites focused on niche topics like hardcore fitness are easier to design due to their limited scope; it is more difficult to build successful general purpose sites, particularly ones capable of engaging a significant enough proportion of the population to bring about widespread change in behaviour. There is nevertheless significant potential due to rising awareness of diet and fitness issues: ABS statistics for instance show that over 2.3 million (under-estimated figure) Australians were on a diet in 2011-12 (<http://www.abs.gov.au/ausstats/abs@.nsf/Lookup/4364.0.55.007main+features12011-12>), 14% of the population participate in gymnasiums and 23% walk for exercise (<http://www.abs.gov.au/ausstats/abs@.nsf/Products/4156.0.55.001~Nov+2011~Main+Features~Physical+Recreation?OpenDocument>). Wearable devices and applications dealing with health and fitness management are also rising in popularity, such as (<https://play.google.com/store/apps/details?id=com.urbandroid.sleep>, Apple HealthKit, and smart-devices like(<http://www.amazon.com/giftsbox-Original-Bracelet-Waterproof-Wristband/dp/B00PW8IBSS>), which gather information about people's heart rate, pace, walking distance or even sleeping status to monitor the their general exercise/fitness condition. These applications are however limited in functionality compared to our proposal, and any attempts they make at community-building are stunted by the commercial desires of the organisations behind them to build "walled gardens" around their products so as to lock users in.

Our stakeholders include netizens concerned about their health and wishing to harness the power of technology, like the poster of <https://www.quora.com/Is-there-a-Q-A-website-like-Stack-Overflow-for-health> and the many people who post health questions on Yahoo Answers. This is not all, however: ultimately the whole of society has a stake in it, as the health problems we seek to tackle are a society-wide problem, and our site could potentially be of benefit to anyone who either faces or knows people who face preventable health issues. Governments are a stakeholder, in that our site could enhance the effectiveness of their health campaigns, especially if they work with us.

Dieticians and medical professionals also have a stake in the site's outcomes, as it could be used to assist in patient management, and to allow these professionals to get their message out to a wider audience. Producers of health-enhancing products and services are also potential stakeholders, in that our site could serve as a platform for them to more easily reach potential beneficiaries of their products. Even people who are already quite fit will benefit, as if our site increases overall societal healthiness then fot people won't have so much of their income spent on subsidising the unfit, as the amount of their taxes spent on providing treatment for preventable illnesses in the unfit will be reduced, due to there being fewer unfit people.

Less directly, users of potential competitors such as Stack Exchange also benefit. Stack Exchange's moderation policies have of late grown more and more draconian, driving away users and building resentment in the community (http://www.reddit.com/r/programming/comments/2c59xe/what_i_learned_from_answering_questions_for_30/) (http://www.reddit.com/r/programming/comments/2w6unq/my_lovehate_relationship_with_stack_overflow/). Our approach, which avoids the need for harsh moderation through our revolutionary content filtering system that puts power back in the hands of the users, will show that there is an alternative to strict, undemocratic moderation models, providing an avenue of change down which users can force sites that engage in such undesirable moderation.

Our site has the potential to benefit all the above stakeholders: improving population health, reducing the health burden on governments, allowing organisations and health professionals to better reach users with their advice and products, and improving the internet ecosystem through pioneering a new community model. An effort like this is desperately needed, as if population health continues at its current trajectory then peoples' quality of life will only get worse and worse.

Project Description

Our objective is to satisfy the need for an interactive, community-curated repository of exercise and nutrition information. Currently searching for even simple health topics on Google can lead to a flood of pages and inconsistent information, consuming the user's time and energy and leaving them frustrated when after hours of searching they still have not found a solution to the health problem they face. Or worse: they find multiple conflicting solutions and have no way of determining which is the correct piece of advice to follow.

Our site will address this by providing a Q&A-based knowledge repository in which quality diet and nutrition advice will accumulate, curated by both the community and relevant professionals. Our approach is an evolution of the Stack Exchange model, with a revolutionary user-controlled filtering system replacing the authoritarian moderation system that has plagued Stack Exchange in recent years. We also pioneer an innovative approach to threading, one which will allow threads of semi-tangential discussion to exist alongside the primary Q&A stream for a topic, without cluttering the interface or distracting followers of the Q&A thread, an approach that we will expand upon and refine throughout the development of the project, in order to facilitate fluid and organic community growth. A points and reward system will be used to encourage and reward contribution, and various decorators used to distinguish verified experts and professionals, as well as to providers of government exercise and nutrition programs.

It should be noted that "health" in the context of our site refers to diet and nutrition, not to serious medical issues. Such issues are explicitly beyond the scope of our site, and users pursuing them will be encouraged to seek the advice of licensed medical professionals.

An online forum alone isn't sufficient to avert the obesity epidemic we face, as evidenced by the failure of current forums to achieve this. We will integrate our forum into a dynamic application that drastically simplifies diet and exercise management, allowing users to record their health behaviours and receive useful feedback and advice. Mobile integration will even allow them to receive real-time healthy purchasing advice when shopping, via bar-code scanning. Users can create a diet plan and receive advice on how well particular foods fit into this plan, as well as directly looking up the nutrition information on various foods. The system will be ideologically neutral, capable of assisting users in maintaining whatever diet is best for their particular needs and situation. Given sufficient time, integration with various fitness-monitoring devices would also be implemented, allowing the site to also track such things as users' energy expenditure and use this information to assist dietary recommendations.

Given the relatively broad scope of our application, we will be taking an agile, iterative approach. A core MVP will first be build, focused on basic forum and nutrition tracking/advice functionality. After that more features will be gradually added and tested, and the core features refined based on feedback. As the team members have significant time commitments in other subjects, this approach will ensure that a viable product is still created even if members find themselves with less time available for this project than planned. This is enhanced by our extremely modular architecture, which minimises the interdependencies among components. In order to monitor progress and quickly adapt to schedule changes, we meet twice weekly and collaborate daily online.

For dealing with the project's other dependencies, we will focus on harnessing the power of redundancy. For instance, while we use the US Government open nutrition database API for nutrition information, we will also maintain another service using a different nutrition API to replace that one in the event that it is permanently closed, and use caching to handle the situation when the API service is temporarily down. A similar approach will be taken to the barcode-matching API and any other APIs we depend on. This is enhanced by our modular architecture, allowing services to be easily swapped out and replaced.

A Side from APIs, our project will also have a dependency on the various Javascript libraries and browser features (HTML5, CSS3, etc.) that the application uses. This will initially limit some of our application functionality to modern browsers, but once the site reaches a sufficient degree of popularity we will have the resources to add a compatibility layer to extend the functionality available to users of older browsers. To minimise our dependency on Javascript libraries that are prone to depreciation (such as Anguler, which is being deprecated and will require users to rewrite their site in Angular2), we will avoid the use of large, over-arching Javascript frameworks, and focus on stable, modular libraries that can be replaced with minimal effort if necessary.

Design and functionality

To address users' needs for a dynamic, interactive health management system, our web application will include a simple interface for users to input their diet and receive dietary advice and information. They will be able to select foods through an autocompleted search bar, and when a food is selected they will see that food's nutrition info. They will be able to click a button to add this food to their diet.

They will also have a diet page, displaying their diet and summary nutrition statistics on it, and from this page will be able to use the same food search feature to add foods, or click on a food item in their diet to see detailed information. They can also remove foods, delete a diet, create a new diet, or switch to another saved diet (users can have multiple diets, but only one "active" diet that is used by default). Users will also be able to click a single button to be taken to a page containing interesting visualisations of the summary statistics.

There will be a prominent "recommendations" panel in which the user can receive recommendations on a particular food or food suggestions, and a button next to it to scan a food barcode if the user is on a mobile device.

This interface is designed to be as simple and intuitive of possible, to dramatically enhance the ease with which people can manage their diets. In the spirit of this, users will be able to receive recommendations immediately, however there will be a small note informing them that they can receive better recommendations if they input more health/weight etc. data. A separate page will exist where users can input this data, to whatever degree of detail they feel like, and a progress bar measuring how what percentage of information they've input. Internally, the recommendation algorithms will dynamically adapt to the information level of a particular user, producing better recommendations when a user has provided more information. Users will also get "points" and "badges" for providing information and completing their health/nutrition profile, the same as those awarded for contribution to the forums. Given sufficient time, a stretch-goal is to provide similar functionality for exercise, with users being able to select exercises and enter the time spent on these exercises, with the application calculating calories burned and taking account of this information in given dietary recommendations. Users would also be able to track their exercise history, and receive reminders of daily exercise.

Users will be able to create an account on the site directly, but will also be able to use OAuth to sign in via their Facebook or Google accounts. The recommendation functionality will require login, but a page will exist with some useful utilities such as BMI calculation which doesn't require login.

For our Q&A forum, users will have the ability to post and answer questions, comment on answers, and upvote and downvote answers. They will also have a profile page in which they can view their "points" and "badges",  as well as their questions and answers. Users will have the option to upload formal qualifications for the site administration to view, and if the documents are deemed legitimate then these users' will be given flairs next to their comments/answers noting their qualification (e.g. doctor or nutritionist). Users will also have a preferences page, in which they can toggle the answer/comment types that they'd like to see. Users with sufficient points or who have submitted official qualifications will be able to flag questions, comments and answers with various different kind of flags matching the different categories that users can choose to view/hide.

The exact format of the forum represents an innovative approach, allowing tangential discussion that often arises on such forums to coexist alongside discussion of the primary topic at hand, without interfering with or distracting from it. A general outline of the design is as follows, although we will test, iterate upon and refine the design throughout the development process.

**Insert Nan's diagrams (or reference to them in the Appendix, if they won't fit) here**

In terms of roles, Nan and Ray will focus on the diet planning and advice functionality, Jonathan and Bing will focus on the forum, and Regina will focus on API integration and diet planning.

Technical Overview

*Architecture*

Our approach uses a microservice-driven, cloud-based approach to maximise scalability, modularity and robustness.

The backend consists of separate processes communicating via JSON over HTTP. This facilitates modularity, enhancing the separation of concerns by decoupling different functional units. 

Such decoupling makes the code simpler and more flexible, preventing the creation of complex interdependencies among different pieces of code. This simplicity reduces time spent on debugging and maintenance, enhancing developer productivity and hence increasing development speed.

Our architecture also brings increased scalability, allowing different backend functionalities to be easily distributed across multiple machines. This is due to the use of JSON over HTTP for communication, which does not require the communicating processes to exist on the same machine or even the same cluster. Robustness is also increased: processes can be monitored and if one fails another can quickly be spun up to replace it, without bringing the whole system down.

This microservice-based approach also increases the flexibility of backend technology choices, allowing different languages to be used for different functionality depending on which is more suitable. Java could for instance be used for services under heavy load or that do lots of cpu-bound processing, while a more lightweight, dynamic language like Python or PHP could be used for rapid development of less performance-critical services. This also allows team members to make optimal use of their various different languages proficiencies and backgrounds.

*Data*

Our site gathers health and nutrition data from multiple sites, such as the Health.Gov nutrition API, and caches it in a local MySql database, the workhorse of the web. We also harness the power of MySql for storing user-generated diet and exercise data, and the comments, questions and answers from our forum section. MySql supports transparent sharding and master-master replication, allowing it to easily scale on the cloud as the applicationâ€™s user base grows

*Frontend*

The frontend to our site will be powered by modern HTML5 and CSS3 technology, unified by Javascript. The Microsoft Typescript compiler, which allows the use of optional type annotations, will increase the correctness of our Javascript code, reducing bugs and increasing maintainability. In MVC terms our frontend will be the View, with the Model and Controller constituted by our various backend services.

*Roles*
Ray will focus on the diet planning/advice backend, in Java. Regina will focus on the various API services, in Python, on Javascript for the planning/advice frontend, and on automated testing. Nan will focus on CSS and HTML design and implementation for the whole frontend. Bing and Jonathan will focus on the forum backend and frontend. Jonathan will administer the DB and manage the cloud server(s).

Cost-benefit analysis

Possibly the most significant trade-off we made involved developer time and project scope. Our project consists of both a forum and a diet/nutrition service, which will require significantly more effort to develop than either of those elements alone. We believe however that this is a necessary trade-off, as internet forums alone have proven impotent at stemming the obesity epidemic, and a diet application alone would not be capable of building the community necessary to bring about widespread dietary change, so a combination of the two is necessary. Current approaches have failed so dramatically that a revolutionary approach is necessary to have any hope of bring about real change.

Another decision we faced was regarding the openness of our API. Keeping the API closed would increase the "lock in" of users were the application to become successful, potentially generating greater revenue. Opening the API however allows other developers to build upon it, facilitating the further development of the community around the site, even if this development occurs in a manner that leads some users to spent less time on the site itself. As the goal of the site is society-wide improvement in health outcomes, sacrificing potential revenue seems like an acceptable price to pay for increasing the reach of the site's ability to promote good health and diet.

We also faced many trade-offs in the design of our forum. We chose to forgo a strict moderation policy of the kind followed by Stack Overflow, which necessitates more work on our part to design a system such that threads can still remain on topic without being derailed by tangential discussion. We believe this effort is ultimately worth it, as it creates a warmer environment for users, avoiding the kind of resentment many potential users have developed for Stack Overflow. The way our system allows harmonious coexistence of core threads and tangents also potentially provides a smoother, more intuitive UI experience for users, although this approach will of course be more challenging to get right.

How to handle registered health and dietary professionals' use of the site also required some thought. We considered giving them extra voting power on verification of their qualifications, to encourage their participation, but ultimately decided against it, as it would undermine the democratic goals of the site. We instead chose to grant them special flairs, which will make their professional state visible to other users, but will not privilege them.

The decision regarding whether to initially focus our application functionality more on diet or fitness was also a matter requiring significant consideration. Ultimately we settled on nutrition, as it may be more applicable to the population as a whole: while not everyone exercises, everyone eats. There is also need for a diet recommendation service: while sites like https://www.myfitnesspal.com/ and http://www.fitday.com/ provide diet tracking, they don't provide recommendations or the ability to scan foods when shopping, and integrate only primitive forum technology.

Ultimately, the guiding principle behind our design has been: innovation is hard, but necessary. Deaths from preventable diet-related illnesses continue to rise, so if change is to be achieved then current online approaches to diet management must be transcended and replaced by something superior, as they clearly aren't working.
